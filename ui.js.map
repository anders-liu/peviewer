{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"React\"","webpack:///external \"ReactRedux\"","webpack:///external \"Redux\"","webpack:///./src/ui/scripts/worker-message.ts","webpack:///./src/ui/scripts/worker-client.ts","webpack:///./src/ui/scripts/action-listener.ts","webpack:///./src/ui/scripts/components/page-footer.tsx","webpack:///./src/ui/scripts/store/actions.ts","webpack:///./src/ui/scripts/components/open-file-page.tsx","webpack:///./src/ui/scripts/components/page-content.tsx","webpack:///./src/ui/scripts/components/page-header.tsx","webpack:///./src/ui/scripts/components/app.tsx","webpack:///./src/ui/scripts/store/reducers.ts","webpack:///external \"ReactDOM\"","webpack:///./src/ui/scripts/index.tsx"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","React","ReactRedux","Redux","createReqOpenFileMessage","file","type","_worker","WM","workerClientMiddleware","store","next","action","postMessage","initWorkerClient","Worker","onmessage","ev","data","actionListenerMiddleware","appInfo","getState","document","title","PageFooterClass","_super","__extends","render","this","props","version","author","homepage","bugsUrl","year","createElement","id","href","target","Component","PageFooter","connect","state","createOpenFileAction","A","OpenFilePageClass","_this","onFileChange","bind","className","onChange","onFileSelected","fileList","files","length","OpenFilePage","dispatch","open_file_page_1","PageContentClass","PageContent","PageHeader","page_header_1","page_content_1","page_footer_1","App","Fragment","appReducer","combineReducers","fileInfo","name_1","size","assign","ReactDOM","packageJson","R","app_1","action_listener_1","worker_client_1","bugs","url","Date","getFullYear","toString","defaultState","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","Provider","getElementById"],"mappings":"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","file":"ui.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 15);\n","module.exports = React;","module.exports = ReactRedux;","module.exports = Redux;","/// <reference path=\"../../worker/worker.d.ts\" />\r\n\r\nexport function createReqOpenFileMessage(file: File): W.ReqOpenFileMessage {\r\n    return {\r\n        type: W.WorkerMessageType.REQ_OPEN_FILE,\r\n        file\r\n    };\r\n}\r\n","/// <reference path=\"../../worker/worker.d.ts\" />\r\n\r\nimport * as Redux from \"redux\";\r\n\r\nimport * as A from \"./store/actions\";\r\nimport * as S from \"./store/state\";\r\nimport * as WM from \"./worker-message\";\r\n\r\nexport const workerClientMiddleware = ((store: Redux.MiddlewareAPI<S.AppState>) => (next: Redux.Dispatch<S.AppState>) => (action: Redux.Action) => {\r\n    switch (action.type) {\r\n        case \"OPEN_FILE\": {\r\n            const { file } = action as A.OpenFileAction;\r\n            _worker.postMessage(WM.createReqOpenFileMessage(file));\r\n            break;\r\n        }\r\n    }\r\n    return next(action);\r\n}) as Redux.Middleware;\r\n\r\nexport function initWorkerClient(store: Redux.Store<S.AppState>): void {\r\n    _store = store;\r\n    _worker = new Worker(\"worker.js\");\r\n    _worker.onmessage = ev => handleMessage(ev.data);\r\n}\r\n\r\nfunction handleMessage(msg: W.WorkerMessage): void {\r\n    switch (msg.type) {\r\n        case \"RES_NAV_DATA\": break;\r\n        case \"RES_PAGE_DATA\": break;\r\n        case \"RES_PE_ERROR\": break;\r\n    }\r\n}\r\n\r\nlet _worker: Worker;\r\nlet _store: Redux.Store<S.AppState>;\r\n","import * as Redux from \"redux\";\r\n\r\nimport * as A from \"./store/actions\";\r\nimport * as S from \"./store/state\";\r\n\r\nexport const actionListenerMiddleware = ((store: Redux.MiddlewareAPI<S.AppState>) => (next: Redux.Dispatch<S.AppState>) => (action: Redux.Action) => {\r\n    switch (action.type) {\r\n        case \"OPEN_FILE\": {\r\n            const { appInfo } = store.getState();\r\n            const { file } = action as A.OpenFileAction;\r\n            document.title = `${file.name} - ${appInfo.title}`\r\n            break;\r\n        }\r\n    }\r\n    return next(action);\r\n}) as Redux.Middleware;\r\n","import * as React from \"react\";\r\nimport * as ReactRedux from \"react-redux\";\r\n\r\nimport * as S from \"../store/state\";\r\n\r\ninterface ConnectedProps {\r\n    appInfo: S.AppInfo;\r\n}\r\n\r\nfunction mapStateToProps(state: S.AppState): ConnectedProps {\r\n    const { appInfo } = state;\r\n    return {\r\n        appInfo\r\n    };\r\n}\r\n\r\nclass PageFooterClass extends React.Component<ConnectedProps> {\r\n    public render(): JSX.Element {\r\n        const { appInfo } = this.props;\r\n        const { title, version, author, homepage, bugsUrl, year } = appInfo;\r\n\r\n        return (\r\n            <footer id=\"app-footer\">\r\n                <div>{title}. Coypright &copy; {author} {year}. Version {version}</div>\r\n                <div><a href={homepage} target=\"_blank\">View on GitHub</a> | <a href={bugsUrl} target=\"_blank\">Report Issue</a></div>\r\n            </footer>\r\n        )\r\n    }\r\n}\r\n\r\nexport const PageFooter = ReactRedux.connect(mapStateToProps)(PageFooterClass);\r\n","import * as Redux from \"redux\";\r\n\r\nexport type ActionType\r\n    = \"OPEN_FILE\"\r\n    | \"SET_PAGE_DATA\"\r\n    | \"SET_WORKER_ERROR\"\r\n    ;\r\n\r\nexport interface OpenFileAction extends Redux.Action {\r\n    file: File;\r\n}\r\n\r\nexport function createOpenFileAction(file: File): OpenFileAction {\r\n    return {\r\n        type: \"OPEN_FILE\",\r\n        file\r\n    };\r\n}","import * as React from \"react\";\r\nimport * as ReactRedux from \"react-redux\";\r\n\r\nimport * as A from \"../store/actions\";\r\nimport * as S from \"../store/state\";\r\n\r\ninterface ConnectedEvents {\r\n    onFileSelected: (file: File) => void;\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch: ReactRedux.Dispatch<S.AppState>): ConnectedEvents {\r\n    return {\r\n        onFileSelected: (file) => dispatch(A.createOpenFileAction(file))\r\n    };\r\n}\r\n\r\nclass OpenFilePageClass extends React.Component<ConnectedEvents> {\r\n    public constructor(props: any) {\r\n        super(props);\r\n        this.onFileChange = this.onFileChange.bind(this);\r\n    }\r\n\r\n    public render(): JSX.Element {\r\n        return (\r\n            <section className=\"file-opener\">\r\n                <div>Select a file:</div>\r\n                <div><input type=\"file\" onChange={this.onFileChange}></input></div>\r\n                <div>No data would be uploaded, all things are parsed locally.</div>\r\n            </section>\r\n        )\r\n    }\r\n\r\n    private onFileChange(ev: React.ChangeEvent<HTMLInputElement>): void {\r\n        const { onFileSelected } = this.props;\r\n        const fileList = ev.target.files;\r\n        if (fileList && fileList.length > 0) {\r\n            onFileSelected(fileList[0]);\r\n        }\r\n    }\r\n}\r\n\r\nexport const OpenFilePage = ReactRedux.connect(null, mapDispatchToProps)(OpenFilePageClass);\r\n","import * as React from \"react\";\r\nimport * as ReactRedux from \"react-redux\";\r\n\r\nimport * as S from \"../store/state\";\r\n\r\nimport { OpenFilePage } from \"./open-file-page\";\r\n\r\ninterface ConnectedProps {\r\n}\r\n\r\nfunction mapStateToProps(state: S.AppState): ConnectedProps {\r\n    return {\r\n    };\r\n}\r\n\r\nclass PageContentClass extends React.Component<ConnectedProps> {\r\n    public render(): JSX.Element {\r\n        return (\r\n            <section id=\"app-content\">\r\n                <OpenFilePage />\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport const PageContent = ReactRedux.connect(mapStateToProps)(PageContentClass);\r\n","import * as React from \"react\";\r\n\r\nexport class PageHeader extends React.Component {\r\n    public render(): JSX.Element {\r\n        return (\r\n            <header id=\"app-header\">\r\n                <h1>Welcome to PE Viewer.</h1>\r\n            </header>\r\n        )\r\n    }\r\n}","import * as React from \"react\";\r\n\r\nimport { PageHeader } from \"./page-header\";\r\nimport { PageContent } from \"./page-content\";\r\nimport { PageFooter } from \"./page-footer\";\r\n\r\nexport class App extends React.Component {\r\n    public render(): JSX.Element {\r\n        return (\r\n            <React.Fragment>\r\n                <PageHeader />\r\n                <PageContent />\r\n                <PageFooter />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}","import * as Redux from \"redux\";\r\nimport * as A from \"./actions\";\r\nimport * as S from \"./state\";\r\n\r\nexport const appReducer = Redux.combineReducers({\r\n    appInfo,\r\n    fileInfo,\r\n}) as Redux.Reducer<S.AppState>;\r\n\r\nfunction appInfo(state: S.AppInfo | null = null, action: Redux.Action): S.AppInfo | null {\r\n    return state;\r\n}\r\n\r\nfunction fileInfo(state: S.FileInfo | null = null, action: Redux.Action): S.FileInfo | null {\r\n    switch (action.type) {\r\n        case \"OPEN_FILE\": {\r\n            const { file } = action as A.OpenFileAction;\r\n            const { name, size } = file;\r\n            return Object.assign({}, state, { name, size });\r\n        }\r\n        default: return state;\r\n    }\r\n}\r\n","module.exports = ReactDOM;","import * as React from \"react\";\r\nimport * as ReactDOM from \"react-dom\";\r\nimport * as Redux from \"redux\";\r\nimport * as ReactRedux from \"react-redux\";\r\n\r\nimport * as packageJson from \"package.json\";\r\nimport * as S from \"./store/state\";\r\nimport * as R from \"./store/reducers\";\r\nimport { App } from \"./components/app\";\r\nimport { actionListenerMiddleware } from \"./action-listener\";\r\nimport { workerClientMiddleware, initWorkerClient } from \"./worker-client\";\r\n\r\nconst appInfo: S.AppInfo = {\r\n    title: packageJson.title,\r\n    version: packageJson.version,\r\n    author: packageJson.author,\r\n    homepage: packageJson.homepage,\r\n    bugsUrl: packageJson.bugs.url,\r\n    year: new Date().getFullYear().toString(),\r\n};\r\n\r\nconst defaultState: S.AppState = {\r\n    appInfo,\r\n    fileInfo: null,\r\n};\r\n\r\ndocument.title = `${appInfo.title}`;\r\n\r\nconst _w = window as any;\r\nconst composeEnhancers = _w.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || Redux.compose;\r\nconst store = Redux.createStore(R.appReducer, defaultState, composeEnhancers(\r\n    Redux.applyMiddleware(\r\n        actionListenerMiddleware,\r\n        workerClientMiddleware)\r\n));\r\n\r\ninitWorkerClient(store);\r\n\r\nReactDOM.render(\r\n    <ReactRedux.Provider store={store}>\r\n        <App />\r\n    </ReactRedux.Provider>,\r\n    document.getElementById(\"app\")\r\n);\r\n"],"sourceRoot":""}